# MockBean

## Mock Bean과 Spy Bean의 비교

### - Mock Bean

- 정의: Mock Bean은 완전히 가짜 객체입니다. 이 객체는 실제 로직을 포함하지 않으며, 테스트 중에 해당 Bean의 메소드가 호출되면 설정된 대로 가짜 응답을 반환합니다.

- 사용 목적: Mock Bean은 외부 시스템이나 복잡한 로직을 포함하는 Bean을 테스트 환경에서 분리하기 위해 사용됩니다. 예를 들어, 데이터베이스 접근이나 외부 서비스 호출을 포함하는 Bean을 테스트할 때, 실제 이러한 외부 의존성을 호출하지 않고 가짜 응답을 사용하여 테스트를 단순화할 수 있습니다.

- 특징: Mock Bean은 테스트 중에만 활성화되며, 실제 Bean의 내부 구현을 전혀 모방하지 않습니다. 따라서, Mock Bean은 해당 Bean의 실제 동작을 테스트하지 않고, 해당 Bean이 올바른 방식으로 사용되고 있는지만 테스트합니다.

### - Spy Bean

- 정의: Spy Bean은 실제 객체의 감시본입니다. 이 객체는 실제 로직을 포함하고 있으며, 테스트 중에 메소드 호출과 반환값을 감시할 수 있습니다.

- 사용 목적: Spy Bean은 실제 Bean의 동작을 유지하면서 특정 메소드 호출을 추적하거나, 특정 메소드의 반환값을 오버라이드하기 위해 사용됩니다. 이를 통해 실제 Bean의 동작을 유지하면서도 일부 동작을 테스트 목적에 맞게 조정할 수 있습니다.

- 특징: Spy Bean은 실제 Bean의 인스턴스를 감싸며, 기본적으로 실제 Bean의 동작을 따릅니다. 필요한 경우에만 특정 메소드의 행동을 변경하거나 검증할 수 있습니다.

네, 맞습니다. @WebMvcTest(PostController.class)와 같이 어노테이션에 괄호와 함께 값을 넣는 것은 Java에서 어노테이션에 인자를 전달하는 방법입니다. 이 경우, @WebMvcTest 어노테이션에 PostController.class를 인자로 전달하고 있습니다.

### - @WebMvcTest 어노테이션

- 목적: @WebMvcTest는 Spring MVC 컨트롤러를 테스트하기 위한 전용 어노테이션입니다. 이 어노테이션은 주로 웹 계층의 `컴포넌트만` 로드하여 빠르고 집중적인 MVC 테스트를 위해 사용됩니다.

- 사용법: 이 어노테이션을 사용할 때 클래스 또는 클래스 배열을 인자로 전달할 수 있습니다. 전달된 클래스는 테스트 중에 Spring TestContext 프레임워크에 의해 생성되고 관리됩니다.

```<Java>
@WebMvcTest(PostController.class)
```

- 인자 전달의 의미: PostController.class를 @WebMvcTest의 인자로 전달함으로써, 테스트 환경에서 PostController 클래스와 관련된 컨트롤러, 필터, 인터셉터 등만 로드하고, 그 외의 전체 Spring 컨텍스트는 로드하지 않습니다. 이는 테스트의 실행 속도를 개선하고, 원하는 컨트롤러에 대한 테스트에 집중할 수 있도록 합니다.

이 방식은 테스트 대상 컨트롤러가 의존하는 빈만 테스트 컨텍스트에 포함시키므로, 필요한 컴포넌트만 명시적으로 제어할 수 있습니다.
